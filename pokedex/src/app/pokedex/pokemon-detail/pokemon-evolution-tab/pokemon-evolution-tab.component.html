<div *ngIf="pokemonEvolutionChain.chain">
  <div *ngIf="loadPokemonEvolutionChain()"></div>
  <div class="evolutionBox" *ngFor="let evolution of chain">

    <div class="pokemon" (click)="redirect(evolution.pokemon1)">
      <div class="imgBx"><img [src]="getFrontDefault(evolution.pokemon1)" alt="{{evolution.pokemon1.name}}"></div>
      <p>{{evolution.pokemon1.name}}</p>
    </div>

    <div class="requirementBox">
      <div class="imgBx"><img src="assets/images/arrow.png"></div>

      <div class="requirementList" *ngFor="let evolutionDetails of evolution.evolutionDetails">
        <p *ngIf="evolutionDetails !== evolution.evolutionDetails[0]">OR</p>
        <div class="requirementListItem">

          <div *ngIf="evolutionDetails.gender">
            <p *ngIf="evolutionDetails.gender == 1">♀ female</p>
            <p *ngIf="evolutionDetails.gender == 2">♂ male</p>
          </div>

          <div *ngIf="evolutionDetails.held_item">
            <p>held item : {{evolutionDetails.held_item.name}}</p>
          </div>

          <div *ngIf="evolutionDetails.item">
            <p>use item : {{evolutionDetails.item.name}}</p>
          </div>

          <div *ngIf="evolutionDetails.known_move">
            <p>knowing move : {{evolutionDetails.known_move.name}}</p>
          </div>

          <div *ngIf="evolutionDetails.known_move_type">
            <p>knowing move type : {{evolutionDetails.known_move_type.name}}</p>
          </div>

          <div *ngIf="evolutionDetails.location">
            <p>location : {{evolutionDetails.location.name}}</p>
          </div>

          <div *ngIf="evolutionDetails.min_affection">
            <p>affection : {{evolutionDetails.min_affection}} hearts</p>
          </div>

          <div *ngIf="evolutionDetails.min_beauty">
            <p>beauty : {{evolutionDetails.min_beauty}}</p>
          </div>

          <div *ngIf="evolutionDetails.min_happiness">
            <p>happiness : {{evolutionDetails.min_happiness}}</p>
          </div>

          <div *ngIf="evolutionDetails.min_level">
            <p>level : {{evolutionDetails.min_level}}</p>
          </div>

          <div *ngIf="evolutionDetails.needs_overworld_rain">
            <p>needs overworld rain</p>
          </div>



          <div *ngIf="evolutionDetails.party_species">
            <p>with a {{evolutionDetails.party_species.name}} in the party</p>
          </div>

          <div *ngIf="evolutionDetails.party_type">
            <p>with a {{evolutionDetails.party_type.name}} type pokemon in the party</p>
          </div>

          <div *ngIf="evolutionDetails.relative_physical_stats">
            <p *ngIf="evolutionDetails.relative_physical_stats == 1">Atk &gt; Def</p>
            <p *ngIf="evolutionDetails.relative_physical_stats ==-1">Atk &lt; Def</p>
          </div>

          <div *ngIf="evolutionDetails.time_of_day">
            <p>during {{evolutionDetails.time_of_day}} time</p>
          </div>

          <div *ngIf="evolutionDetails.trade_species">
            <p>{{evolutionDetails.trade_species.name}}</p>
          </div>

          <div *ngIf="evolutionDetails.trigger.name == 'trade'">
            <p>trading</p>
          </div>

          <div *ngIf="evolutionDetails.turn_upside_down">
            <p>turn upside down</p>
          </div>

          <div *ngIf="evolutionDetails.other">
            <p>{{evolutionDetails.other}}</p>
          </div>

          <!-- display what cause the evolution -->
          <!--div *ngIf="evolutionDetails.trigger">
            <p>trigger : {{evolutionDetails.trigger.name}}</p>
          </div-->

        </div>
      </div>

    </div>
    <div class="pokemon" (click)="redirect(evolution.pokemon2)">
      <div class="imgBx"><img [src]="getFrontDefault(evolution.pokemon2)" alt="{{evolution.pokemon2.name}}"></div>
      <p>{{evolution.pokemon2.name}}</p>
    </div>
  </div>
  <div *ngIf="chain.length == 0">
    <p>This Pokemon has no evolution</p>
  </div>
</div>
